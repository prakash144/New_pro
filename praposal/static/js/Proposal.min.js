function addPage(d, b) {
    var e, a = b.turn("pages");
    var c = $("<div />", {});
    if (b.turn("addPage", c, d)) {
        c.html('<div class="gradient"></div><div class="loader"></div>');
        loadPage(d, c)
    }
}

function loadPage(c, b) {
    var a = $("<img />");
    a.mousedown(function(d) {
        d.preventDefault()
    });
    a.load(function() {
        $(this).css({
            width: "100%",
            height: "100%"
        });
        $(this).appendTo(b);
        b.find(".loader").remove()
    });
    a.attr("src", "pages/" + c + ".jpg")
}

function loadLargePage(c, b) {
    var a = $("<img />");
    a.load(function() {
        var d = b.find("img");
        $(this).css({
            width: "100%",
            height: "100%"
        });
        $(this).appendTo(b);
        d.remove()
    });
    a.attr("src", "pages/" + c + "-large.jpg")
}

function loadSmallPage(c, b) {
    var a = b.find("img");
    a.css({
        width: "100%",
        height: "100%"
    });
    a.unbind("load");
    a.attr("src", "pages/" + c + ".jpg")
}

function isChrome() {
    return navigator.userAgent.indexOf("Chrome") != -1
};
